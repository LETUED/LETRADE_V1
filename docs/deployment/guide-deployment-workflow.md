# ğŸš€ Letrade_v1 ë°°í¬ ë° ìš´ì˜ ê°€ì´ë“œ

## ğŸ“‹ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# 1. Git í›… ì„¤ì • (í•œ ë²ˆë§Œ ì‹¤í–‰)
./scripts/setup_git_hooks.sh

# 2. ê°œë°œ ì˜ì¡´ì„± ì„¤ì¹˜
pip install -e ".[dev]"

# 3. ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (í‘¸ì‹œ ì „)
./scripts/test_local.sh

# 4. ì „ì²´ í…ŒìŠ¤íŠ¸ (í•„ìš”ì‹œ)
./scripts/test_full.sh
```

### 2. í”„ë¡œë•ì…˜ ë°°í¬

```bash
# 1. í™˜ê²½ ì„¤ì • íŒŒì¼ ì¤€ë¹„
cp .env.prod.example .env.production
# .env.production íŒŒì¼ í¸ì§‘ í•„ìš”

# 2. í”„ë¡œë•ì…˜ ë°°í¬
./scripts/deploy_production.sh

# 3. ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ì‹œì‘
./scripts/monitor_system.sh
```

## ğŸ”§ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ì¼ìƒì ì¸ ê°œë°œ ì‘ì—…

```bash
# ì½”ë“œ ìˆ˜ì • í›„
git add .                    # ìë™ í¬ë§·íŒ… ì‹¤í–‰ (pre-commit)
git commit -m "feat: ..."    # ì»¤ë°‹ ë©”ì‹œì§€ í…œí”Œë¦¿ ê°€ì´ë“œ
git push origin main         # ìë™ ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (pre-push)
```

### CI/CD íŒŒì´í”„ë¼ì¸

**ê°„ì†Œí™”ëœ GitHub Actions:**
- âœ… **ê¸°ë³¸ ê²€ì¦** (3ë¶„): ë¬¸ë²• ì²´í¬, í¬ë§·íŒ… í™•ì¸
- âœ… **ì „ì²´ í…ŒìŠ¤íŠ¸** (10ë¶„): `[test-all]` ì»¤ë°‹ ë©”ì‹œì§€ ì‹œ ì‹¤í–‰
- âœ… **ìˆ˜ë™ ë°°í¬**: GitHub Actionsì—ì„œ ìˆ˜ë™ íŠ¸ë¦¬ê±°

### ë¡œì»¬ í…ŒìŠ¤íŠ¸ ìš°ì„  ì „ëµ

- **ë¹ ë¥¸ ê²€ì¦**: `./scripts/test_local.sh` (1ë¶„ ì´ë‚´)
- **ìƒì„¸ ê²€ì¦**: `./scripts/test_full.sh` (5ë¶„ ì´ë‚´)
- **CI ì˜ì¡´ë„ ìµœì†Œí™”**: ë¡œì»¬ì—ì„œ ëª¨ë“  ê²€ì¦ ì™„ë£Œ

## ğŸ—ï¸ 24/7 ìš´ì˜ í™˜ê²½

### í”„ë¡œë•ì…˜ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  24/7 Production Stack                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš€ Letrade Main App    â”‚  ğŸ“Š Monitoring Stack         â”‚
â”‚  â€¢ Auto-restart         â”‚  â€¢ Prometheus (metrics)       â”‚
â”‚  â€¢ Health checks        â”‚  â€¢ Grafana (dashboards)       â”‚
â”‚  â€¢ Rolling deployment   â”‚  â€¢ Real-time alerts          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¾ Data Layer         â”‚  ğŸ”„ Message Bus               â”‚
â”‚  â€¢ PostgreSQL          â”‚  â€¢ RabbitMQ                   â”‚
â”‚  â€¢ Redis (cache)       â”‚  â€¢ Auto-recovery              â”‚
â”‚  â€¢ Auto-backup         â”‚  â€¢ Queue monitoring           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìë™ ê¸°ëŠ¥

- **ğŸ”„ ìë™ ì¬ì‹œì‘**: ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ ìë™ ë³µêµ¬
- **ğŸ’¾ ìë™ ë°±ì—…**: ë§¤ì¼ ìƒˆë²½ 2ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
- **ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: 60ì´ˆë§ˆë‹¤ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
- **ğŸš¨ ìë™ ì•Œë¦¼**: í…”ë ˆê·¸ë¨ìœ¼ë¡œ ì¦‰ì‹œ ì•Œë¦¼ ë°œì†¡

### ìš´ì˜ ëª…ë ¹ì–´

```bash
# ìƒíƒœ í™•ì¸
docker-compose -f docker-compose.production.yml ps

# ë¡œê·¸ í™•ì¸
docker-compose -f docker-compose.production.yml logs -f letrade-main

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker-compose -f docker-compose.production.yml restart letrade-main

# ì „ì²´ ì‹œìŠ¤í…œ ì¢…ë£Œ
docker-compose -f docker-compose.production.yml down

# ë°±ì—… í™•ì¸
ls -la backups/
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### ëŒ€ì‹œë³´ë“œ ì ‘ê·¼

- **ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **í—¬ìŠ¤ì²´í¬**: http://localhost:8000/health
- **Grafana ëª¨ë‹ˆí„°ë§**: http://localhost:3000 (admin/admin123)
- **Prometheus ë©”íŠ¸ë¦­**: http://localhost:9090
- **RabbitMQ ê´€ë¦¬**: http://localhost:15672 (guest/guest)

### ì•Œë¦¼ ì„¤ì •

```bash
# .env.productionì— ì¶”ê°€
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

### ëª¨ë‹ˆí„°ë§ ì§€í‘œ

- **ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤**: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
- **ì„œë¹„ìŠ¤ ìƒíƒœ**: ëª¨ë“  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬
- **ê±°ë˜ ì„±ëŠ¥**: ê±°ë˜ ì‹¤í–‰ ì‹œê°„, ì„±ê³µë¥ 
- **ë°ì´í„°ë² ì´ìŠ¤**: ì—°ê²° ìƒíƒœ, ì¿¼ë¦¬ ì„±ëŠ¥

## ğŸ›¡ï¸ ë³´ì•ˆ ë° ë°±ì—…

### ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

- âœ… **í™˜ê²½ë³€ìˆ˜ ë¶„ë¦¬**: ì‹œí¬ë¦¿ì€ .env.productionì—ë§Œ ì €ì¥
- âœ… **API í‚¤ ì•”í˜¸í™”**: GCP Secret Manager ì‚¬ìš© ê¶Œì¥
- âœ… **ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬**: Docker ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬
- âœ… **ë¡œê·¸ ë§ˆìŠ¤í‚¹**: ë¯¼ê°ì •ë³´ ìë™ ë§ˆìŠ¤í‚¹

### ë°±ì—… ì „ëµ

```bash
# ìˆ˜ë™ ë°±ì—…
./scripts/backup_system.sh

# ë°±ì—… í™•ì¸
ls -la backups/

# ë³µêµ¬ (í•„ìš”ì‹œ)
./scripts/restore_system.sh [backup_date]
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

**1. ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨**
```bash
# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
pip install -e ".[dev]" --force-reinstall

# í¬ë§·íŒ… ìˆ˜ì •
black src/ tests/
isort src/ tests/

# ë‹¤ì‹œ í…ŒìŠ¤íŠ¸
./scripts/test_local.sh
```

**2. Docker ë¹Œë“œ ì‹¤íŒ¨**
```bash
# ìºì‹œ í´ë¦¬ì–´
docker system prune -f

# ë‹¤ì‹œ ë¹Œë“œ
docker-compose -f docker-compose.production.yml build --no-cache
```

**3. ì„œë¹„ìŠ¤ ì‘ë‹µ ì—†ìŒ**
```bash
# ë¡œê·¸ í™•ì¸
docker-compose -f docker-compose.production.yml logs letrade-main

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose -f docker-compose.production.yml restart letrade-main
```

### ê¸´ê¸‰ ìƒí™© ëŒ€ì‘

**ê±°ë˜ ì‹œìŠ¤í…œ ì¤‘ë‹¨ ì‹œ:**
1. **ì¦‰ì‹œ ìˆ˜ë™ ê°œì…**: í™œì„± í¬ì§€ì…˜ í™•ì¸
2. **ë¡œê·¸ ë¶„ì„**: `docker logs letrade-main`
3. **ì„œë¹„ìŠ¤ ì¬ì‹œì‘**: `docker-compose restart letrade-main`
4. **ë°±ì—…ì—ì„œ ë³µêµ¬**: ìµœì•…ì˜ ê²½ìš°

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ê¶Œì¥ ì„¤ì •

```yaml
# docker-compose.production.yml
services:
  letrade-main:
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 1G
        reservations:
          cpus: '1.0'
          memory: 512M
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ì„±ëŠ¥ í™•ì¸
./scripts/monitor_system.sh 30  # 30ì´ˆë§ˆë‹¤ ì²´í¬

# ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
./scripts/test_performance.sh
```

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥

1. **ì†Œì•¡ ì‹¤ê±°ë˜ í…ŒìŠ¤íŠ¸**: $100 í™˜ê²½ì—ì„œ ì‹¤ì œ ê±°ë˜ í…ŒìŠ¤íŠ¸
2. **ì•Œë¦¼ ì‹œìŠ¤í…œ ì„¤ì •**: í…”ë ˆê·¸ë¨ ë´‡ í† í° ì„¤ì •
3. **ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•**: Grafana ëŒ€ì‹œë³´ë“œ ê°œì¸í™”

### ì¤‘ì¥ê¸° ê°œì„ 

1. **í´ë¼ìš°ë“œ ë°°í¬**: GCP Cloud Runìœ¼ë¡œ í™•ì¥
2. **ê³ ê°€ìš©ì„± êµ¬ì„±**: ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ ë°°í¬
3. **ìë™ ìŠ¤ì¼€ì¼ë§**: ë¶€í•˜ì— ë”°ë¥¸ ìë™ í™•ì¥/ì¶•ì†Œ

---

**ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! Letrade_v1ì´ 24/7 í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.**